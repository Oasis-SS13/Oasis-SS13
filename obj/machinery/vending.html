<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;machinery&#x2F;vending - BeeStation 13</title>
</head>
<body>
<header>
    <a href="index.html">BeeStation 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/machinery/vending.html#var">Var Details</a> - <a href="obj/machinery/vending.html#proc">Proc Details</a></header>
<main>
<h1>vending machines <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery/vending.html">machinery/vending</a></aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L43">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 43"/></a></h1>

<p>Captalism in the year 2525, everything in a vending machine, even love</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/active">active</a></th><td>Is the machine active (No sales pitches if off)!</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/bill">bill</a></th><td>Bills we accept?</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/canload_access_list">canload_access_list</a></th><td>ID's that can load this vending machine wtih refills</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/coin">coin</a></th><td>Coins that we accept?</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/contraband">contraband</a></th><td>List of products this machine sells when you hack it</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/default_price">default_price</a></th><td>Default price of items if not overridden</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/extended_inventory">extended_inventory</a></th><td>can we access the hidden inventory?</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/extra_price">extra_price</a></th><td>Default price of premium items if not overridden</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/icon_deny">icon_deny</a></th><td>Icon to flash when user is denied a vend</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/icon_vend">icon_vend</a></th><td>Icon when vending an item to the user</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/input_display_header">input_display_header</a></th><td>Display header on the input view</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/last_reply">last_reply</a></th><td>Last world tick we sent a vent reply</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/last_shopper">last_shopper</a></th><td>Last mob to shop with us</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/last_slogan">last_slogan</a></th><td>Last world tick we sent a slogan message out</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/onstation">onstation</a></th><td>Is this item on station or not</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/onstation_override">onstation_override</a></th><td>A variable to change on a per instance basis on the map that allows the instance to force cost and ID requirements</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/premium">premium</a></th><td>List of premium products this machine sells</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/product_ads">product_ads</a></th><td>String of small ad messages in the vending screen - random chance</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/product_slogans">product_slogans</a></th><td>String of slogans separated by semicolons, optional</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/products">products</a></th><td>List of products this machine sells</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/purchase_message_cooldown">purchase_message_cooldown</a></th><td>Next world time to send a purchase message</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/scan_id">scan_id</a></th><td>Are we checking the users ID</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/seconds_electrified">seconds_electrified</a></th><td>World ticks the machine is electified for</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/shoot_inventory">shoot_inventory</a></th><td>When this is TRUE, we fire items at customers! We're broken!</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/shoot_inventory_chance">shoot_inventory_chance</a></th><td>How likely this is to happen (prob 100)</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/slogan_delay">slogan_delay</a></th><td>How many ticks until we can send another</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/small_ads">small_ads</a></th><td>Small ad messages in the vending screen - random chance of popping up whenever you open it</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/vend_ready">vend_ready</a></th><td>Are we ready to vend?? Is it time??</td></tr>
            <tr><th><a href="obj/machinery/vending.html#var/vend_reply">vend_reply</a></th><td>Message sent post vend (Thank you for shopping!)</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/Initialize">Initialize</a></th><td>Initialize the vending machine</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/build_inventory">build_inventory</a></th><td>Build the inventory of the vending machine from it's product and record lists</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/pre_throw">pre_throw</a></th><td>A callback called before an item is tossed out</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/refill_inventory">refill_inventory</a></th><td>Refill our inventory from the passed in product list into the record list</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/restock">restock</a></th><td>Refill a vending machine from a refill canister</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/shock">shock</a></th><td>Shock the passed in user</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/speak">speak</a></th><td>Speak the given message verbally</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/throw_item">throw_item</a></th><td>Throw an item from our internal inventory out in front of us</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/unbuild_inventory">unbuild_inventory</a></th><td>Given a record list, go through and and return a list of type -&gt; amount</td></tr>
            <tr><th><a href="obj/machinery/vending.html#proc/update_canister">update_canister</a></th><td>Set up a refill canister that matches this machines products</td></tr></table>
    <h2><a name="var">Var Details</a></h2><h3><aside class="declaration">var </aside><a name="var/active">active</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L62">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 62"/></a></h3>
        <p>Is the machine active (No sales pitches if off)!</p><h3><aside class="declaration">var </aside><a name="var/bill">bill</a>
            <aside>&ndash; /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/stack/spacecash</aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L130">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 130"/></a></h3>
        <p>Bills we accept?</p><h3><aside class="declaration">var </aside><a name="var/canload_access_list">canload_access_list</a>
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L150">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 150"/></a></h3>
        <p>ID's that can load this vending machine wtih refills</p><h3><aside class="declaration">var </aside><a name="var/coin">coin</a>
            <aside>&ndash; /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/coin</aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L128">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 128"/></a></h3>
        <p>Coins that we accept?</p><h3><aside class="declaration">var </aside><a name="var/contraband">contraband</a>
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L83">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 83"/></a></h3>
        <p>List of products this machine sells when you hack it</p>
<pre><code>form should be list(/type/path = amount, /type/path2 = amount2)
</code></pre><h3><aside class="declaration">var </aside><a name="var/default_price">default_price</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L133">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 133"/></a></h3>
        <p>Default price of items if not overridden</p><h3><aside class="declaration">var </aside><a name="var/extended_inventory">extended_inventory</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L124">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 124"/></a></h3>
        <p>can we access the hidden inventory?</p><h3><aside class="declaration">var </aside><a name="var/extra_price">extra_price</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L135">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 135"/></a></h3>
        <p>Default price of premium items if not overridden</p><h3><aside class="declaration">var </aside><a name="var/icon_deny">icon_deny</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L114">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 114"/></a></h3>
        <p>Icon to flash when user is denied a vend</p><h3><aside class="declaration">var </aside><a name="var/icon_vend">icon_vend</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L112">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 112"/></a></h3>
        <p>Icon when vending an item to the user</p><h3><aside class="declaration">var </aside><a name="var/input_display_header">input_display_header</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L155">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 155"/></a></h3>
        <p>Display header on the input view</p><h3><aside class="declaration">var </aside><a name="var/last_reply">last_reply</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L106">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 106"/></a></h3>
        <p>Last world tick we sent a vent reply</p><h3><aside class="declaration">var </aside><a name="var/last_shopper">last_shopper</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L68">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 68"/></a></h3>
        <p>Last mob to shop with us</p><h3><aside class="declaration">var </aside><a name="var/last_slogan">last_slogan</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L108">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 108"/></a></h3>
        <p>Last world tick we sent a slogan message out</p><h3><aside class="declaration">var </aside><a name="var/onstation">onstation</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L142">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 142"/></a></h3>
        <p>Is this item on station or not</p>
<p>if it doesn't originate from off-station during mapload, everything is free</p><h3><aside class="declaration">var </aside><a name="var/onstation_override">onstation_override</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L147">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 147"/></a></h3>
        <p>A variable to change on a per instance basis on the map that allows the instance to force cost and ID requirements</p><h3><aside class="declaration">var </aside><a name="var/premium">premium</a>
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L90">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 90"/></a></h3>
        <p>List of premium products this machine sells</p>
<pre><code>form should be list(/type/path, /type/path2) as there is only ever one in stock
</code></pre><h3><aside class="declaration">var </aside><a name="var/product_ads">product_ads</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L95">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 95"/></a></h3>
        <p>String of small ad messages in the vending screen - random chance</p><h3><aside class="declaration">var </aside><a name="var/product_slogans">product_slogans</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L93">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 93"/></a></h3>
        <p>String of slogans separated by semicolons, optional</p><h3><aside class="declaration">var </aside><a name="var/products">products</a>
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L76">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 76"/></a></h3>
        <p>List of products this machine sells</p>
<pre><code>form should be list(/type/path = amount, /type/path2 = amount2)
</code></pre><h3><aside class="declaration">var </aside><a name="var/purchase_message_cooldown">purchase_message_cooldown</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L66">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 66"/></a></h3>
        <p>Next world time to send a purchase message</p><h3><aside class="declaration">var </aside><a name="var/scan_id">scan_id</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L126">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 126"/></a></h3>
        <p>Are we checking the users ID</p><h3><aside class="declaration">var </aside><a name="var/seconds_electrified">seconds_electrified</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L116">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 116"/></a></h3>
        <p>World ticks the machine is electified for</p><h3><aside class="declaration">var </aside><a name="var/shoot_inventory">shoot_inventory</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L118">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 118"/></a></h3>
        <p>When this is TRUE, we fire items at customers! We're broken!</p><h3><aside class="declaration">var </aside><a name="var/shoot_inventory_chance">shoot_inventory_chance</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L120">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 120"/></a></h3>
        <p>How likely this is to happen (prob 100)</p><h3><aside class="declaration">var </aside><a name="var/slogan_delay">slogan_delay</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L110">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 110"/></a></h3>
        <p>How many ticks until we can send another</p><h3><aside class="declaration">var </aside><a name="var/small_ads">small_ads</a>
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L102">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 102"/></a></h3>
        <p>Small ad messages in the vending screen - random chance of popping up whenever you open it</p><h3><aside class="declaration">var </aside><a name="var/vend_ready">vend_ready</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L64">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 64"/></a></h3>
        <p>Are we ready to vend?? Is it time??</p><h3><aside class="declaration">var </aside><a name="var/vend_reply">vend_reply</a>
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L104">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 104"/></a></h3>
        <p>Message sent post vend (Thank you for shopping!)</p><h2><a name="proc">Proc Details</a></h2><h3><a name="proc/Initialize">Initialize</a><aside>(mapload) 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L173">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 173"/></a></aside>
        </h3>
        <p>Initialize the vending machine</p>
<p>Builds the vending machine inventory, sets up slogans and other such misc work</p>
<p>This also sets the onstation var to:</p>
<ul>
<li>FALSE - if the machine was maploaded on a zlevel that doesn't pass the is_station_level check</li>
<li>TRUE - all other cases</li>
</ul><h3><aside class="declaration">proc </aside><a name="proc/build_inventory">build_inventory</a><aside>(/list/productlist, /list/recordlist, start_empty) 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L271">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 271"/></a></aside>
        </h3>
        <p>Build the inventory of the vending machine from it's product and record lists</p>
<p>This builds up a full set of /datum/data/vending_products from the product list of the vending machine type
Arguments:</p>
<ul>
<li>productlist - the list of products that need to be converted</li>
<li>recordlist - the list containing /datum/data/vending_product datums</li>
<li>startempty - should we set vending_product record amount from the product list (so it's prefilled at roundstart)</li>
</ul><h3><aside class="declaration">proc </aside><a name="proc/pre_throw">pre_throw</a><aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I) 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L704">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 704"/></a></aside>
        </h3>
        <p>A callback called before an item is tossed out</p>
<p>Override this if you need to do any special case handling</p>
<p>Arguments:</p>
<ul>
<li>I - obj/item being thrown</li>
</ul><h3><aside class="declaration">proc </aside><a name="proc/refill_inventory">refill_inventory</a><aside>(/list/productlist, /list/recordlist) 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L314">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 314"/></a></aside>
        </h3>
        <p>Refill our inventory from the passed in product list into the record list</p>
<p>Arguments:</p>
<ul>
<li>productlist - list of types -&gt; amount</li>
<li>recordlist - existing record datums</li>
</ul><h3><aside class="declaration">proc </aside><a name="proc/restock">restock</a><aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/vending_refill/canister) 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L296">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 296"/></a></aside>
        </h3>
        <p>Refill a vending machine from a refill canister</p>
<p>This takes the products from the refill canister and then fills the products,contraband and premium product categories</p>
<p>Arguments:</p>
<ul>
<li>canister - the vending canister we are refilling from</li>
</ul><h3><aside class="declaration">proc </aside><a name="proc/shock">shock</a><aside>(/<a href="mob.html">mob</a>/user, prb) 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L716">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 716"/></a></aside>
        </h3>
        <p>Shock the passed in user</p>
<p>This checks we have power and that the passed in prob is passed, then generates some sparks
and calls electrocute_mob on the user</p>
<p>Arguments:</p>
<ul>
<li>user - the user to shock</li>
<li>prb - probability the shock happens</li>
</ul><h3><aside class="declaration">proc </aside><a name="proc/speak">speak</a><aside>(message) 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L643">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 643"/></a></aside>
        </h3>
        <p>Speak the given message verbally</p>
<p>Checks if the machine is powered and the message exists</p>
<p>Arguments:</p>
<ul>
<li>message - the message to speak</li>
</ul><h3><aside class="declaration">proc </aside><a name="proc/throw_item">throw_item</a><aside>() 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L672">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 672"/></a></aside>
        </h3>
        <p>Throw an item from our internal inventory out in front of us</p>
<p>This is called when we are hacked, it selects a random product from the records that has an amount &gt; 0
This item is then created and tossed out in front of us with a visible message</p><h3><aside class="declaration">proc </aside><a name="proc/unbuild_inventory">unbuild_inventory</a><aside>(/list/recordlist) 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L344">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 344"/></a></aside>
        </h3>
        <p>Given a record list, go through and and return a list of type -&gt; amount</p><h3><aside class="declaration">proc </aside><a name="proc/update_canister">update_canister</a><aside>() 
        
    
            <a href="https://github.com/BeeStation/BeeStation-Hornet/blob/dff4908a5e00f48754b8140121f2801272cc46ad/code/modules/vending/_vending.dm#L328">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;vending&#x2F;_vending.dm 328"/></a></aside>
        </h3>
        <p>Set up a refill canister that matches this machines products</p>
<p>This is used when the machine is deconstructed, so the items aren't &quot;lost&quot;</p></main>
<footer>
    beestation.dme
    <a href="https://github.com/BeeStation/BeeStation-Hornet/tree/dff4908a5e00f48754b8140121f2801272cc46ad">dff4908</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.0.0</a></footer>
</body>
</html>
